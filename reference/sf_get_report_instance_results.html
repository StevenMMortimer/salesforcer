<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get report instance results — sf_get_report_instance_results • salesforcer</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get report instance results — sf_get_report_instance_results"><meta name="description" content="
Retrieves results for an instance of a report run asynchronously with or without
filters. Depending on your asynchronous report run request, data can be at the
summary level or include details."><meta property="og:description" content="
Retrieves results for an instance of a report run asynchronously with or without
filters. Depending on your asynchronous report run request, data can be at the
summary level or include details."><meta property="og:image" content="https://stevenmmortimer.github.io/salesforcer/reference/figures/salesforcer.png"><meta property="og:image:alt" content="salesforcer package logo"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-98603021-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98603021-2');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">salesforcer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/supported-queries.html">Supported Queries</a></li>
    <li><a class="dropdown-item" href="../articles/working-with-bulk-apis.html">Working with Bulk APIs</a></li>
    <li><a class="dropdown-item" href="../articles/working-with-reports.html">Working with Reports</a></li>
    <li><a class="dropdown-item" href="../articles/working-with-attachments.html">Working with Attachments</a></li>
    <li><a class="dropdown-item" href="../articles/working-with-metadata.html">Working with Metadata</a></li>
    <li><a class="dropdown-item" href="../articles/passing-control-args.html">Passing Control Args</a></li>
    <li><a class="dropdown-item" href="../articles/transitioning-from-RForcecom.html">Transitioning from RForcecom</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/StevenMMortimer/salesforcer"><span class="fa fa-github fa-lg"></span> GitHub</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get report instance results</h1>
      <small class="dont-index">Source: <a href="https://github.com/StevenMMortimer/salesforcer/blob/main/R/analytics-report.R" class="external-link"><code>R/analytics-report.R</code></a></small>
      <div class="d-none name"><code>sf_get_report_instance_results.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Retrieves results for an instance of a report run asynchronously with or without
filters. Depending on your asynchronous report run request, data can be at the
summary level or include details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sf_get_report_instance_results</span><span class="op">(</span></span>
<span>  <span class="va">report_id</span>,</span>
<span>  <span class="va">report_instance_id</span>,</span>
<span>  labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  guess_types <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  bind_using_character_cols <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  fact_map_key <span class="op">=</span> <span class="st">"T!T"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-report-id">report_id<a class="anchor" aria-label="anchor" href="#arg-report-id"></a></dt>
<dd><p><code>character</code>; the Salesforce Id assigned to a created
analytics report. It will start with <code>"00O"</code>.</p></dd>


<dt id="arg-report-instance-id">report_instance_id<a class="anchor" aria-label="anchor" href="#arg-report-instance-id"></a></dt>
<dd><p><code>character</code>; the Salesforce Id assigned to a
created analytics report instance (an asynchronous run). It will start with
<code>"0LG"</code>.</p></dd>


<dt id="arg-labels">labels<a class="anchor" aria-label="anchor" href="#arg-labels"></a></dt>
<dd><p><code>logical</code>; an indicator of whether the returned data should
be the label (i.e. formatted value) or the actual value. By default, the labels
are returned because these are what appear in the Salesforce dashboard and
more closely align with the column names. For example, "Account.Name" label
may be <code>"Account B"</code> and the value <code>0016A0000035mJEQAY</code>. The former
(label) more accurately reflects the "Account.Name".</p></dd>


<dt id="arg-guess-types">guess_types<a class="anchor" aria-label="anchor" href="#arg-guess-types"></a></dt>
<dd><p><code>logical</code>; indicating whether or not to use <code>col_guess()</code>
to try and cast the data returned in the recordset. If <code>TRUE</code> then
<code>col_guess()</code> is used along with <code>anytime()</code> and <code>anydate()</code>.
If <code>FALSE</code> then all fields will be returned as character. Specifying
<code>FALSE</code> helpful when guessing the column data type will result in NA
values and you would like to return the results as strings and then cast in
your script according to your unique specifications.</p></dd>


<dt id="arg-bind-using-character-cols">bind_using_character_cols<a class="anchor" aria-label="anchor" href="#arg-bind-using-character-cols"></a></dt>
<dd><p><code>logical</code>; an indicator of whether to
cast the data to all character columns to ensure that <code><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></code>
does not fail because two paginated recordsets have differing datatypes for the
same column. Set this to <code>TRUE</code> rarely, typically only when having this
set to <code>FALSE</code> returns an error or you want all columns in the data to be
character.</p></dd>


<dt id="arg-fact-map-key">fact_map_key<a class="anchor" aria-label="anchor" href="#arg-fact-map-key"></a></dt>
<dd><p><code>character</code>; string providing an index into each
section of a fact map, from which you can access summary and detailed data.
The pattern for the fact map keys varies by report format so it is important
to know what the <code>reportFormat</code> property of the target report is. See the
note below for more details.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p><code>logical</code>; an indicator of whether to print additional
detail for each API call, which is useful for debugging. More specifically, when
set to <code>TRUE</code> the URL, header, and body will be printed for each request,
along with additional diagnostic information where available.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>tbl_df</code>; the detail report data. More specifically, the detailed
data from the "T!T" entry in the fact map.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Below are the fact map key patterns for three report types:</p><dl><dt>TABULAR</dt>
<dd><p><code>T!T</code>: The grand total of a report. Both record data
values and the grand total are represented by this key.</p></dd>

<dt>SUMMARY</dt>
<dd><p><code>&lt;First level row grouping_second level row grouping_third
  level row grouping&gt;!T</code>: T refers to the row grand total.</p></dd>

<dt>MATRIX</dt>
<dd><p><code>&lt;First level row grouping_second level row grouping&gt;!&lt;First
  level column grouping_second level column grouping&gt;.</code></p></dd>


</dl><p>Each item in a row or column grouping is numbered starting with 0. Here are
some examples of fact map keys:</p>
<dl><dt>0!T</dt>
<dd><p>The first item in the first-level grouping.</p></dd>

<dt>1!T</dt>
<dd><p>The second item in the first-level grouping.</p></dd>

<dt>0_0!T</dt>
<dd><p>The first item in the first-level grouping and the first item
in the second-level grouping.</p></dd>

<dt>0_1!T</dt>
<dd><p>The first item in the first-level grouping and the second item
in the second-level grouping.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="salesforce-documentation">Salesforce Documentation<a class="anchor" aria-label="anchor" href="#salesforce-documentation"></a></h2>


<ul><li><p><a href="https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_instance_resource_results.htm" class="external-link">Documentation</a></p></li>
<li><p><a href="https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_get_reportdata.htm#example_instance_reportresults" class="external-link">Example</a></p></li>
<li><p><a href="https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_factmap_example.htm" class="external-link">Factmap Documentation</a></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Report Instance functions:
<code><a href="sf_delete_report_instance.html">sf_delete_report_instance</a>()</code>,
<code><a href="sf_list_report_instances.html">sf_list_report_instances</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># execute a report asynchronously in your Org</span></span></span>
<span class="r-in"><span><span class="va">all_reports</span> <span class="op">&lt;-</span> <span class="fu"><a href="sf_query.html">sf_query</a></span><span class="op">(</span><span class="st">"SELECT Id, Name FROM Report"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">this_report_id</span> <span class="op">&lt;-</span> <span class="va">all_reports</span><span class="op">$</span><span class="va">Id</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="sf_execute_report.html">sf_execute_report</a></span><span class="op">(</span><span class="va">this_report_id</span>, async<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check if that report has succeeded, ... </span></span></span>
<span class="r-in"><span><span class="va">instance_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="sf_list_report_instances.html">sf_list_report_instances</a></span><span class="op">(</span><span class="va">this_report_id</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">instance_status</span> <span class="op">&lt;-</span> <span class="va">instance_list</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">instance_list</span><span class="op">$</span><span class="va">id</span> <span class="op">==</span> <span class="va">results</span><span class="op">$</span><span class="va">id</span><span class="op">)</span>, <span class="st">"status"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ... if so, then grab the results</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="va">instance_status</span> <span class="op">==</span> <span class="st">"Success"</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">report_data</span> <span class="op">&lt;-</span> <span class="fu">sf_get_report_instance_results</span><span class="op">(</span>report_id <span class="op">=</span> <span class="va">this_report_id</span>, </span></span>
<span class="r-in"><span>                                                report_instance_id <span class="op">=</span> <span class="va">results</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steven M. Mortimer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

