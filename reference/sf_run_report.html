<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get a report's data in tabular format — sf_run_report • salesforcer</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Get a report's data in tabular format — sf_run_report" />
<meta property="og:description" content="
This function is a convenience wrapper for retrieving the data from a report.
By default, it executes an asynchronous report and waits for the detailed data
summarized in a tabular format, before pulling them down and returning as a
tbl_df." />
<meta property="og:image" content="https://stevenmmortimer.github.io/salesforcer/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-98603021-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98603021-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">salesforcer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting-started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/supported-queries.html">Supported Queries</a>
    </li>
    <li>
      <a href="../articles/working-with-bulk-apis.html">Working with Bulk APIs</a>
    </li>
    <li>
      <a href="../articles/working-with-reports.html">Working with Reports</a>
    </li>
    <li>
      <a href="../articles/working-with-attachments.html">Working with Attachments</a>
    </li>
    <li>
      <a href="../articles/working-with-metadata.html">Working with Metadata</a>
    </li>
    <li>
      <a href="../articles/passing-control-args.html">Passing Control Args</a>
    </li>
    <li>
      <a href="../articles/transitioning-from-RForcecom.html">Transitioning from RForcecom</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/StevenMMortimer/salesforcer">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get a report's data in tabular format</h1>
    <small class="dont-index">Source: <a href='https://github.com/StevenMMortimer/salesforcer/blob/master/R/analytics-report.R'><code>R/analytics-report.R</code></a></small>
    <div class="hidden name"><code>sf_run_report.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://www.tidyverse.org/lifecycle/#experimental'><img src='figures/lifecycle-experimental.svg' alt='Experimental lifecycle'></a></p>
<p>This function is a convenience wrapper for retrieving the data from a report.
By default, it executes an asynchronous report and waits for the detailed data
summarized in a tabular format, before pulling them down and returning as a
<code>tbl_df</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>sf_run_report</span>(
  <span class='kw'>report_id</span>,
  report_filters = <span class='kw'>NULL</span>,
  report_boolean_logic = <span class='kw'>NULL</span>,
  sort_by = <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(<span class='fl'>0</span>),
  decreasing = <span class='fl'>FALSE</span>,
  top_n = <span class='kw'>NULL</span>,
  async = <span class='fl'>TRUE</span>,
  interval_seconds = <span class='fl'>3</span>,
  max_attempts = <span class='fl'>200</span>,
  wait_for_results = <span class='fl'>TRUE</span>,
  verbose = <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>report_id</th>
      <td><p><code>character</code>; the Salesforce Id assigned to a created
analytics report. It will start with <code>"00O"</code>.</p></td>
    </tr>
    <tr>
      <th>report_filters</th>
      <td><p><code>list</code>; A <code>list</code> of reportFilter specifications.
Each must be a list with 3 elements: 1) <code>column</code>, 2) <code>operator</code>, and
3) <code>value</code>. You can find out how certain field types can be filtered by
reviewing the results of <code><a href='sf_list_report_filter_operators.html'>sf_list_report_filter_operators</a></code>.</p></td>
    </tr>
    <tr>
      <th>report_boolean_logic</th>
      <td><p><code>character</code>; a string of boolean logic to parse
custom field filters if more than one is specified. For example, if three filters
are specified, then they can be combined using the logic <code>"(1 OR 2) AND 3"</code>.</p></td>
    </tr>
    <tr>
      <th>sort_by</th>
      <td><p><code>character</code>; the name of the column(s) used to sort the results.</p></td>
    </tr>
    <tr>
      <th>decreasing</th>
      <td><p><code>logical</code>; a indicator of whether the results should be
ordered by increasing or decreasing values in <code>sort_by</code> column when selecting the
top N records. Note, this argument will be ignored if not specifying Top N. You can
sort the records using <code><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></code> after the results are returned.</p></td>
    </tr>
    <tr>
      <th>top_n</th>
      <td><p><code>integer</code>; an integer which sets a row limit filter to a report.
The results will be ordered as they appear in the report unless specified differently
via the <code>sort_by</code> and <code>decreasing</code> arguments. Note, it is sometimes
helpful to specify the <code>top_n</code> argument if a report contains many rows, but
you are only interested in a subset of them. Alternatively, you can limit the count
of returned rows via the <code>report_filters</code> argument.</p></td>
    </tr>
    <tr>
      <th>async</th>
      <td><p><code>logical</code>; an indicator, by default set to <code>TRUE</code>, which
executes the report asynchronously. If executed asynchronously, this function
will return a list of attributes of the created report instance. The results
can be pulled down by providing the report id and instance id to
the function <code><a href='sf_get_report_instance_results.html'>sf_get_report_instance_results</a></code>. Refer to the details
of the documentation on why executing a report asynchronously is preferred.</p></td>
    </tr>
    <tr>
      <th>interval_seconds</th>
      <td><p><code>integer</code>; defines the seconds between attempts to check
for job completion.</p></td>
    </tr>
    <tr>
      <th>max_attempts</th>
      <td><p><code>integer</code>; defines then max number attempts to check for job
completion before stopping.</p></td>
    </tr>
    <tr>
      <th>wait_for_results</th>
      <td><p><code>logical</code>; indicating whether to wait for the
report finish running so that data can be obtained. Otherwise, return the
report instance details which can be used to retrieve the results when the
async report has finished.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p><code>logical</code>; an indicator of whether to print additional
detail for each API call, which is useful for debugging. More specifically, when
set to <code>TRUE</code> the URL, header, and body will be printed for each request,
along with additional diagnostic information where available.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>tbl_df</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is essentially a wrapper around <code><a href='sf_execute_report.html'>sf_execute_report</a></code>.
Please review or use that function and/or <code><a href='sf_query_report.html'>sf_query_report</a></code> if you
want to have more control over how the report is run and what format should
be returned. In this case we've forced the <code>reportFormat="TABULAR"</code>
without total rows and given options to filter, and select the Top N as
function arguments rather than forcing the user to create an entire list of
<code>reportMetadata</code>.</p>
    <h2 class="hasAnchor" id="salesforce-documentation"><a class="anchor" href="#salesforce-documentation"></a>Salesforce Documentation</h2>

    

<ul>
<li><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_getreportrundata.htm'>Sync Documentation</a></p></li>
<li><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_get_reportdata.htm#example_sync_reportexecute'>Sync Example</a></p></li>
<li><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_instances_summaryasync.htm'>Async Documentation</a></p></li>
<li><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_get_reportdata.htm#example_report_async_instances'>Async Example</a></p></li>
<li><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_filter_reportdata.htm#example_requestbody_execute_resource'>Filtering Results</a></p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Report functions: 
<code><a href='sf_copy_report.html'>sf_copy_report</a>()</code>,
<code><a href='sf_create_report.html'>sf_create_report</a>()</code>,
<code><a href='sf_delete_report.html'>sf_delete_report</a>()</code>,
<code><a href='sf_describe_report_type.html'>sf_describe_report_type</a>()</code>,
<code><a href='sf_describe_report.html'>sf_describe_report</a>()</code>,
<code><a href='sf_execute_report.html'>sf_execute_report</a>()</code>,
<code><a href='sf_list_report_fields.html'>sf_list_report_fields</a>()</code>,
<code><a href='sf_list_report_filter_operators.html'>sf_list_report_filter_operators</a>()</code>,
<code><a href='sf_list_report_types.html'>sf_list_report_types</a>()</code>,
<code><a href='sf_list_reports.html'>sf_list_reports</a>()</code>,
<code><a href='sf_query_report.html'>sf_query_report</a>()</code>,
<code><a href='sf_update_report.html'>sf_update_report</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># find a report in your org and run it</span>
<span class='kw'>all_reports</span> <span class='op'>&lt;-</span> <span class='fu'><a href='sf_query.html'>sf_query</a></span>(<span class='st'>"SELECT Id, Name FROM Report"</span>)
<span class='kw'>this_report_id</span> <span class='op'>&lt;-</span> <span class='kw'>all_reports</span><span class='op'>$</span><span class='kw'>Id</span>[<span class='fl'>1</span>]
<span class='kw'>results</span> <span class='op'>&lt;-</span> <span class='fu'>sf_run_report</span>(<span class='kw'>this_report_id</span>)

<span class='co'># apply your own filters to that same report</span>
<span class='co'># set up some filters, if needed</span>
<span class='co'># filter records that was created before this month</span>
<span class='kw'>filter1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(column = <span class='st'>"CREATED_DATE"</span>,
                operator = <span class='st'>"lessThan"</span>, 
                value = <span class='st'>"THIS_MONTH"</span>)

<span class='co'># filter records where the account billing address city is not empty</span>
<span class='kw'>filter2</span> <span class='op'>&lt;-</span>  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(column = <span class='st'>"ACCOUNT.ADDRESS1_CITY"</span>,
                 operator = <span class='st'>"notEqual"</span>, 
                 value = <span class='st'>""</span>)

<span class='co'># combine filter1 and filter2 using 'AND' so that records must meet both filters</span>
<span class='kw'>results_using_AND</span> <span class='op'>&lt;-</span> <span class='fu'>sf_run_report</span>(<span class='kw'>my_report_id</span>, 
                                   report_boolean_logic = <span class='st'>"1 AND 2"</span>,
                                   report_filters = <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>filter1</span>, <span class='kw'>filter2</span>))

<span class='co'># combine filter1 and filter2 using 'OR' which means that records must meet one </span>
<span class='co'># of the filters but also throw in a row limit based on a specific sort order</span>
<span class='kw'>results_using_OR</span> <span class='op'>&lt;-</span> <span class='fu'>sf_run_report</span>(<span class='kw'>my_report_id</span>, 
                                  report_boolean_logic = <span class='st'>"1 OR 2"</span>,
                                  report_filters = <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>filter1</span>, <span class='kw'>filter2</span>), 
                                  sort_by = <span class='st'>"Contact.test_number__c"</span>, 
                                  decreasing = <span class='fl'>TRUE</span>, 
                                  top_n = <span class='fl'>5</span>)
}
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Steven M. Mortimer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.0.9000.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'c7d5ea1103660127418415a82a24fc3d',
    indexName: 'salesforcer',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


