<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Format the detailed data from the "T!T" fact map in a tabular report — parse_report_detail_rows • salesforcer</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Format the detailed data from the " t fact map in a tabular report parse_report_detail_rows><meta name="description" content="This function accepts a list that is directly returned by the API and further
parses it to return a single tbl_df representing the detail rows and
columns of the report without any filters, aggregates, or totals."><meta property="og:description" content="This function accepts a list that is directly returned by the API and further
parses it to return a single tbl_df representing the detail rows and
columns of the report without any filters, aggregates, or totals."><meta property="og:image" content="https://stevenmmortimer.github.io/salesforcer/reference/figures/salesforcer.png"><meta property="og:image:alt" content="salesforcer package logo"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-98603021-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98603021-2');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">salesforcer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/supported-queries.html">Supported Queries</a></li>
    <li><a class="dropdown-item" href="../articles/working-with-bulk-apis.html">Working with Bulk APIs</a></li>
    <li><a class="dropdown-item" href="../articles/working-with-reports.html">Working with Reports</a></li>
    <li><a class="dropdown-item" href="../articles/working-with-attachments.html">Working with Attachments</a></li>
    <li><a class="dropdown-item" href="../articles/working-with-metadata.html">Working with Metadata</a></li>
    <li><a class="dropdown-item" href="../articles/passing-control-args.html">Passing Control Args</a></li>
    <li><a class="dropdown-item" href="../articles/transitioning-from-RForcecom.html">Transitioning from RForcecom</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/StevenMMortimer/salesforcer"><span class="fa fa-github fa-lg"></span> GitHub</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Format the detailed data from the "T!T" fact map in a tabular report</h1>
      <small class="dont-index">Source: <a href="https://github.com/StevenMMortimer/salesforcer/blob/HEAD/R/utils-report.R" class="external-link"><code>R/utils-report.R</code></a></small>
      <div class="d-none name"><code>parse_report_detail_rows.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function accepts a list that is directly returned by the API and further
parses it to return a single <code>tbl_df</code> representing the detail rows and
columns of the report without any filters, aggregates, or totals.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">parse_report_detail_rows</span><span class="op">(</span></span>
<span>  <span class="va">content</span>,</span>
<span>  fact_map_key <span class="op">=</span> <span class="st">"T!T"</span>,</span>
<span>  labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  guess_types <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  bind_using_character_cols <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-content">content<a class="anchor" aria-label="anchor" href="#arg-content"></a></dt>
<dd><p><code>list</code>; the list returned from the <code><a href="https://httr.r-lib.org/reference/content.html" class="external-link">content</a></code>
function that parses the JSON response to a <code>list</code>.</p></dd>


<dt id="arg-fact-map-key">fact_map_key<a class="anchor" aria-label="anchor" href="#arg-fact-map-key"></a></dt>
<dd><p><code>character</code>; string providing an index into each
section of a fact map, from which you can access summary and detailed data.
The pattern for the fact map keys varies by report format so it is important
to know what the <code>reportFormat</code> property of the target report is. See the
note below for more details.</p></dd>


<dt id="arg-labels">labels<a class="anchor" aria-label="anchor" href="#arg-labels"></a></dt>
<dd><p><code>logical</code>; an indicator of whether the returned data should
be the label (i.e. formatted value) or the actual value. By default, the labels
are returned because these are what appear in the Salesforce dashboard and
more closely align with the column names. For example, "Account.Name" label
may be <code>"Account B"</code> and the value <code>0016A0000035mJEQAY</code>. The former
(label) more accurately reflects the "Account.Name".</p></dd>


<dt id="arg-guess-types">guess_types<a class="anchor" aria-label="anchor" href="#arg-guess-types"></a></dt>
<dd><p><code>logical</code>; indicating whether or not to use <code>col_guess()</code>
to try and cast the data returned in the recordset. If <code>TRUE</code> then
<code>col_guess()</code> is used along with <code>anytime()</code> and <code>anydate()</code>.
If <code>FALSE</code> then all fields will be returned as character. Specifying
<code>FALSE</code> helpful when guessing the column data type will result in NA
values and you would like to return the results as strings and then cast in
your script according to your unique specifications.</p></dd>


<dt id="arg-bind-using-character-cols">bind_using_character_cols<a class="anchor" aria-label="anchor" href="#arg-bind-using-character-cols"></a></dt>
<dd><p><code>logical</code>; an indicator of whether to
cast the data to all character columns to ensure that <code><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></code>
does not fail because two paginated recordsets have differing datatypes for the
same column. Set this to <code>TRUE</code> rarely, typically only when having this
set to <code>FALSE</code> returns an error or you want all columns in the data to be
character.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>tbl_df</code>; a data frame representing the detail rows of a parsed
report result HTTP response where the rows represent each row in the report
and the columns represent the detail columns.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Below are the fact map key patterns for three report types:</p><dl><dt>TABULAR</dt>
<dd><p><code>T!T</code>: The grand total of a report. Both record data
values and the grand total are represented by this key.</p></dd>

<dt>SUMMARY</dt>
<dd><p><code>&lt;First level row grouping_second level row grouping_third
  level row grouping&gt;!T</code>: T refers to the row grand total.</p></dd>

<dt>MATRIX</dt>
<dd><p><code>&lt;First level row grouping_second level row grouping&gt;!&lt;First
  level column grouping_second level column grouping&gt;.</code></p></dd>


</dl><p>Each item in a row or column grouping is numbered starting with 0. Here are
some examples of fact map keys:</p>
<dl><dt>0!T</dt>
<dd><p>The first item in the first-level grouping.</p></dd>

<dt>1!T</dt>
<dd><p>The second item in the first-level grouping.</p></dd>

<dt>0_0!T</dt>
<dd><p>The first item in the first-level grouping and the first item
in the second-level grouping.</p></dd>

<dt>0_1!T</dt>
<dd><p>The first item in the first-level grouping and the second item
in the second-level grouping.</p></dd>


</dl><p>This function is meant to be used internally. Only use when debugging.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steven M. Mortimer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

